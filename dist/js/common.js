function getUrlVars(){for(var n,i=[],t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<t.length;o++)n=t[o].split("="),i.push(n[0]),i[n[0]]=n[1];return i}$(document).ready(function(){function n(n){n?$(".loading").addClass("on").fadeIn():$(".loading").removeClass("on").fadeOut()}function i(n,i){if(n)try{$("#"+i)[0].play()}catch(t){}else try{$("#"+i)[0].pause()}catch(t){}}function t(){a.hasToHide.show(),$(".step3").hide()}function o(){$(".step3").fadeOut(),$(".step1").fadeIn()}var e=io("http://lab.medialand.com.tw",{path:"/andy/socket.io"}),a={wrapper:$(".wraper"),mainImg:$(".mainImg"),word:$(".wrapper .word"),hasToHide:$(".hasToHide"),ml:0,num:0,time:1};e.on("ioAlert",function(n){console.log(n.msg),e.emit("userData",{h:$(window).height(),w:$(window).width()})}),e.on("imgReady",function(i){a.mainImgUrl=i.url,a.num=i.num,$(".step2 .number").html(a.num),t(),n(!0),$(".step1").fadeOut(),a.mainImg.attr("src",a.mainImgUrl).on("load",function(){n(!1),e.emit("imgGo")}).each(function(){this.complete&&$(this).load()})}),e.on("imgGo",function(n){a.word.addClass("on"),a.ml=$(window).width()+n.ml,a.mainImg.css({height:n.h,width:"auto",top:n.y,left:a.ml})}),e.on("countToGo",function(n){a.hasToHide.hide(),setTimeout(function(){i(!0,"count1"),a.num==n.num&&e.emit("start",{width:a.mainImg.width()})},1e3)}),e.on("imgMove",function(n){a.mainImg.animate({left:n.d*-1},3e3,function(){e.emit("finish")})}),e.on("finish",function(){$(".step3").fadeIn()}),$(window).load(function(){n(!1),$("audio").each(function(n,i){$(i).get(0).play()}),setTimeout(function(){$("audio").each(function(n,i){if("button"!=$(i).prop("id")){var t=$(i).get(0);t.pause(),t.muted=!1}})},300)}),$(".submit").click(function(){i(!0,"count1"),e.emit("imgReady",{url:$(".imgUrl").val()})}),$(".wrapper .word").click(function(){e.emit("countToGo")}),$(".back").click(o),$(".again").click(function(){e.emit("imgReady",{url:$(".imgUrl").val()})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJnZXRVcmxWYXJzIiwiaGFzaCIsInZhcnMiLCJoYXNoZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzbGljZSIsImluZGV4T2YiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJzaG93TG9hZGluZyIsIl90IiwiYWRkQ2xhc3MiLCJmYWRlSW4iLCJyZW1vdmVDbGFzcyIsImZhZGVPdXQiLCJwbGF5U291bmQiLCJfdHh0IiwicGxheSIsImVyciIsInBhdXNlIiwiaW5pdFRvU3RhcnQiLCJvIiwiaGFzVG9IaWRlIiwic2hvdyIsImhpZGUiLCJpbml0Iiwic29ja2V0IiwiaW8iLCJwYXRoIiwid3JhcHBlciIsIm1haW5JbWciLCJ3b3JkIiwibWwiLCJudW0iLCJ0aW1lIiwib24iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsIm1zZyIsImVtaXQiLCJoIiwiaGVpZ2h0IiwidyIsIndpZHRoIiwibWFpbkltZ1VybCIsInVybCIsImh0bWwiLCJhdHRyIiwiZWFjaCIsInRoaXMiLCJjb21wbGV0ZSIsImxvYWQiLCJjc3MiLCJ0b3AiLCJ5IiwibGVmdCIsInNldFRpbWVvdXQiLCJhbmltYXRlIiwiZCIsImUiLCJnZXQiLCJwcm9wIiwiYXVkaW8iLCJtdXRlZCIsImNsaWNrIiwidmFsIl0sIm1hcHBpbmdzIjoiQUFzSUEsUUFBU0EsY0FFTCxJQUFJLEdBRFFDLEdBQVJDLEtBQWlCQyxFQUFPQyxPQUFPQyxTQUFTQyxLQUFLQyxNQUFNSCxPQUFPQyxTQUFTQyxLQUFLRSxRQUFRLEtBQUssR0FBR0MsTUFBTSxLQUMxRkMsRUFBRSxFQUFFQSxFQUFFUCxFQUFPUSxPQUFPRCxJQUFLVCxFQUFLRSxFQUFPTyxHQUFHRCxNQUFNLEtBQUtQLEVBQUtVLEtBQUtYLEVBQUssSUFBSUMsRUFBS0QsRUFBSyxJQUFJQSxFQUFLLEVBQ2pHLE9BQU9DLEdBeklYVyxFQUFFQyxVQUFVQyxNQUFN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QUFPYyxLQUFLLFlBQVlNLElBQUl4QyxFQUFFLFdBQVc0RCIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuLypcclxuIF9fICAuX18gICBfXy4gIF9fICAuX19fX19fX19fX18uXHJcbnwgIHwgfCAgXFwgfCAgfCB8ICB8IHwgICAgICAgICAgIHxcclxufCAgfCB8ICAgXFx8ICB8IHwgIHwgYC0tLXwgIHwtLS0tYFxyXG58ICB8IHwgIC4gYCAgfCB8ICB8ICAgICB8ICB8ICAgICBcclxufCAgfCB8ICB8XFwgICB8IHwgIHwgICAgIHwgIHwgICAgIFxyXG58X198IHxfX3wgXFxfX3wgfF9ffCAgICAgfF9ffCAgICAgXHJcblxyXG4qL1xyXG4gICAgdmFyIHNvY2tldCA9IGlvKCdodHRwOi8vbGFiLm1lZGlhbGFuZC5jb20udHcnLCB7cGF0aDonL2FuZHkvc29ja2V0LmlvJ30pO1xyXG4gICAgdmFyIG89e1xyXG4gICAgICAgIHdyYXBwZXI6JCgnLndyYXBlcicpLFxyXG4gICAgICAgIG1haW5JbWc6ICQoJy5tYWluSW1nJyksXHJcbiAgICAgICAgd29yZDokKCcud3JhcHBlciAud29yZCcpLFxyXG4gICAgICAgIGhhc1RvSGlkZTokKCcuaGFzVG9IaWRlJyksXHJcbiAgICAgICAgbWw6MCxcclxuICAgICAgICBudW06MCxcclxuICAgICAgICB0aW1lOjFcclxuICAgIH07XHJcblxyXG5cclxuLyogICBfX19fX19fLiAgX19fX19fICAgICBfX19fX18gIF9fICBfX18gIF9fX19fX18gLl9fX19fX19fX19fLlxyXG4gICAgLyAgICAgICB8IC8gIF9fICBcXCAgIC8gICAgICB8fCAgfC8gIC8gfCAgIF9fX198fCAgICAgICAgICAgfFxyXG4gICB8ICAgKC0tLS1gfCAgfCAgfCAgfCB8ICAsLS0tLSd8ICAnICAvICB8ICB8X18gICBgLS0tfCAgfC0tLS1gXHJcbiAgICBcXCAgIFxcICAgIHwgIHwgIHwgIHwgfCAgfCAgICAgfCAgICA8ICAgfCAgIF9ffCAgICAgIHwgIHwgICAgIFxyXG4uLS0tLSkgICB8ICAgfCAgYC0tJyAgfCB8ICBgLS0tLS58ICAuICBcXCAgfCAgfF9fX18gICAgIHwgIHwgICAgIFxyXG58X19fX19fXy8gICAgIFxcX19fX19fLyAgIFxcX19fX19ffHxfX3xcXF9fXFwgfF9fX19fX198ICAgIHxfX3wgICAgXHJcbiovXHJcbiAgICBzb2NrZXQub24oJ2lvQWxlcnQnLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEubXNnKTtcclxuICAgICAgICBzb2NrZXQuZW1pdCgndXNlckRhdGEnLHsgaDokKHdpbmRvdykuaGVpZ2h0KCksdzokKHdpbmRvdykud2lkdGgoKSB9KTtcclxuICAgIH0pO1xyXG4gICAgc29ja2V0Lm9uKCdpbWdSZWFkeScsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIG8ubWFpbkltZ1VybCA9IGRhdGEudXJsO1xyXG4gICAgICAgIG8ubnVtID0gZGF0YS5udW07XHJcbiAgICAgICAgJCgnLnN0ZXAyIC5udW1iZXInKS5odG1sKG8ubnVtKTtcclxuICAgICAgICBpbml0VG9TdGFydCgpO1xyXG4gICAgICAgIHNob3dMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgICQoJy5zdGVwMScpLmZhZGVPdXQoKTtcclxuICAgICAgICBvLm1haW5JbWcuYXR0cignc3JjJyxvLm1haW5JbWdVcmwpLm9uKCdsb2FkJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBzaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdpbWdHbycpO1xyXG4gICAgICAgIH0pLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY29tcGxldGUpICQodGhpcykubG9hZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBzb2NrZXQub24oJ2ltZ0dvJyxmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBvLndvcmQuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgby5tbCA9ICQod2luZG93KS53aWR0aCgpICsgZGF0YS5tbDtcclxuICAgICAgICBvLm1haW5JbWdcclxuICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgJ2hlaWdodCc6IGRhdGEuaCxcclxuICAgICAgICAgICAgJ3dpZHRoJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAndG9wJzogZGF0YS55LFxyXG4gICAgICAgICAgICAnbGVmdCc6IG8ubWxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgc29ja2V0Lm9uKCdjb3VudFRvR28nLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIG8uaGFzVG9IaWRlLmhpZGUoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHBsYXlTb3VuZCh0cnVlLCdjb3VudDEnKTtcclxuICAgICAgICAgICAgaWYoby5udW0gPT0gZGF0YS5udW0pIHNvY2tldC5lbWl0KCdzdGFydCcse3dpZHRoOm8ubWFpbkltZy53aWR0aCgpfSk7XHJcbiAgICAgICAgfSwxMDAwKTtcclxuICAgIH0pO1xyXG4gICAgc29ja2V0Lm9uKCdpbWdNb3ZlJyxmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBvLm1haW5JbWcuYW5pbWF0ZSh7J2xlZnQnOiBkYXRhLmQqLTF9LDMwMDAsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2ZpbmlzaCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBzb2NrZXQub24oJ2ZpbmlzaCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcuc3RlcDMnKS5mYWRlSW4oKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbi8qXHJcbiAgICAgICBfXyAgICAgICBfX19fX19fLlxyXG4gICAgICB8ICB8ICAgICAvICAgICAgIHxcclxuICAgICAgfCAgfCAgICB8ICAgKC0tLS1gXHJcbi4tLS4gIHwgIHwgICAgIFxcICAgXFwgICAgXHJcbnwgIGAtLScgIHwgLi0tLS0pICAgfCAgIFxyXG4gXFxfX19fX18vICB8X19fX19fXy8gICAgXHJcblxyXG4qL1xyXG4gICAgJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKXtcclxuICAgICAgICBzaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgJChcImF1ZGlvXCIpLmVhY2goZnVuY3Rpb24oaSwgZSl7XHJcbiAgICAgICAgICAgICQoZSkuZ2V0KDApLnBsYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKFwiYXVkaW9cIikuZWFjaChmdW5jdGlvbihpLCBlKXtcclxuICAgICAgICAgICAgICAgIGlmKCQoZSkucHJvcCgnaWQnKSA9PSAnYnV0dG9uJykgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvID0gJChlKS5nZXQoMCk7XHJcbiAgICAgICAgICAgICAgICBhdWRpby5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgYXVkaW8ubXV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnN1Ym1pdCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcGxheVNvdW5kKHRydWUsJ2NvdW50MScpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdpbWdSZWFkeScse3VybDokKCcuaW1nVXJsJykudmFsKCl9KTtcclxuICAgIH0pO1xyXG4gICAgJCgnLndyYXBwZXIgLndvcmQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdjb3VudFRvR28nKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmJhY2snKS5jbGljayhpbml0KTtcclxuICAgICQoJy5hZ2FpbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoJ2ltZ1JlYWR5Jyx7dXJsOiQoJy5pbWdVcmwnKS52YWwoKX0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0xvYWRpbmcoX3Qpe1xyXG4gICAgICAgIGlmKF90KSAkKCcubG9hZGluZycpLmFkZENsYXNzKCdvbicpLmZhZGVJbigpO1xyXG4gICAgICAgIGVsc2UgJCgnLmxvYWRpbmcnKS5yZW1vdmVDbGFzcygnb24nKS5mYWRlT3V0KCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwbGF5U291bmQoX3QsX3R4dCl7XHJcbiAgICAgICAgaWYoX3Qpe1xyXG4gICAgICAgICAgICB0cnl7JChcIiNcIitfdHh0KVswXS5wbGF5KCk7fWNhdGNoKGVycil7fVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0cnl7JChcIiNcIitfdHh0KVswXS5wYXVzZSgpO31jYXRjaChlcnIpe31cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbml0VG9TdGFydCgpe1xyXG4gICAgICAgIG8uaGFzVG9IaWRlLnNob3coKTtcclxuICAgICAgICAkKCcuc3RlcDMnKS5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbml0KCl7XHJcbiAgICAgICAgJCgnLnN0ZXAzJykuZmFkZU91dCgpO1xyXG4gICAgICAgICQoJy5zdGVwMScpLmZhZGVJbigpO1xyXG4gICAgfVxyXG5cclxufSkvL3JlYWR5IGVuZFxyXG5mdW5jdGlvbiBnZXRVcmxWYXJzKCl7XHJcbiAgICB2YXIgdmFycz1bXSxoYXNoO3ZhciBoYXNoZXM9d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpKzEpLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IodmFyIGk9MDtpPGhhc2hlcy5sZW5ndGg7aSsrKXtoYXNoPWhhc2hlc1tpXS5zcGxpdCgnPScpO3ZhcnMucHVzaChoYXNoWzBdKTt2YXJzW2hhc2hbMF1dPWhhc2hbMV19XHJcbiAgICByZXR1cm4gdmFyc1xyXG59XHJcbiJdfQ==
